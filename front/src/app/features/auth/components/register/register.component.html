<app-go-back-button></app-go-back-button>
<div class="register-container">
    <img alt="mdd logo" src="assets/logo_p6.png">
    <h2>Inscription</h2>
    <form (ngSubmit)="onSubmit()" [formGroup]="registerForm" class="register-form">
        <mat-form-field appearance="outline">
            <mat-label>Nom utilisateur</mat-label>
            <input formControlName="profileName" matInput required>
            <mat-error
                    *ngIf="registerForm.get('profileName')?.hasError('required') && registerForm.get('profileName')?.touched">
                {{ errorsFormMessage.required }}
            </mat-error>
            <mat-error
                    *ngIf="registerForm.get('profileName')?.hasError('minlength') && registerForm.get('profileName')?.touched">
                {{ errorsFormMessage.user.profileName.minLength }}
            </mat-error>
            <mat-error
                    *ngIf="registerForm.get('profileName')?.hasError('maxlength') && registerForm.get('profileName')?.touched">
                {{ errorsFormMessage.user.profileName.maxLength }}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input formControlName="email" matInput required type="email">
            <mat-error *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched">
                {{ errorsFormMessage.required }}
            </mat-error>
            <mat-error *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched">
                {{ errorsFormMessage.email.format }}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Mot de passe</mat-label>
            <input formControlName="password" matInput required type="password">
            <mat-error
                    *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched">
                {{ errorsFormMessage.required }}
            </mat-error>
            <mat-error
                    *ngIf="registerForm.get('password')?.hasError('pattern')  && registerForm.get('password')?.touched">
                {{ errorsFormMessage.password.pattern }}
            </mat-error>
        </mat-form-field>

        <button [disabled]="registerForm.invalid" class="btn-default" mat-raised-button type="submit">
            S'inscrire
        </button>
    </form>
</div>
